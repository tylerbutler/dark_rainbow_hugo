{{ define "main" }}
<div class="posts h-feed">
  {{ range .Paginator.Pages }}
    {{ .Scratch.Set "renderContext" "home" }}
    <div class="h-entry row">
      {{ partial "post-info" . }}
      <article class="post-content medium-9 large-10 columns" itemscope itemtype="http://schema.org/BlogPosting">
        <time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" itemprop="datePublished"></time>
        {{ partial "post-author" . }}
        <header>
          <h1>
            {{ $link := (.Params.link) }}
            <a class="p-name u-url" href="{{ if $link }}{{ $link }}{{ else }}{{ .RelPermalink }}{{ end }}" itemprop="url">{{ .Title }}</a> {{ if $link }}<span class="arrow">→</span>{{ end }}
          </h1>
        </header>
        {{ if .Summary }}
          <div class="p-summary e-content" itemprop="articleBody">
            {{ .Summary }}
            {{ if .Truncated }}
              <a href="{{ .Permalink }}" class="read-more">Read more →</a>
            {{ end }}
          </div>
        {{ else }}
          <div class="e-content" itemprop="articleBody">
            {{ .Content }}
          </div>
        {{ end }}
      </article>
    </div>
  {{ end }}
  
  <!-- Pagination -->
  {{ if or .Paginator.HasPrev .Paginator.HasNext }}
  <nav class="pagination" aria-label="Blog post pagination">
    <ul class="pagination-list">
      <li class="pagination-prev">
        {{ if .Paginator.HasPrev }}
          <a href="{{ .Paginator.Prev.URL }}" rel="prev">← Newer posts</a>
        {{ else }}
          <span class="disabled">← Newer posts</span>
        {{ end }}
      </li>
      
      <li class="pagination-info">
        Page {{ .Paginator.PageNumber }} of {{ .Paginator.TotalPages }}
      </li>
      
      <li class="pagination-next">
        {{ if .Paginator.HasNext }}
          <a href="{{ .Paginator.Next.URL }}" rel="next">Older posts →</a>
        {{ else }}
          <span class="disabled">Older posts →</span>
        {{ end }}
      </li>
    </ul>
  </nav>
  {{ end }}
</div>
{{ end }}