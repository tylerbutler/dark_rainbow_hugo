/* Modern CSS that produces identical visual results to Foundation
   Focus: Visual consistency, not implementation replication
   Uses flexbox and modern CSS but maintains exact original layout appearance
   HIGH SPECIFICITY: Overrides Foundation CSS when layout=modern is active */

/* ========================================
   MEASUREMENT-BASED VISUAL PARITY FIXES
   Use browser measurement tools to refine these values
   Scripts: /scripts/quick-measure.js
   Target: Close 864px content height gap
   ======================================== */

/* Reset and base styles matching original theme */
*,
*:before,
*:after {
  box-sizing: border-box;
}

/* Base typography to match original theme dimensions */
body.modern-layout {
  font-family: var(--font-family-main) !important;
  font-size: 18px !important;
  line-height: 25px !important; /* Match original _typography.scss line-height-default */
  margin: 0 !important;
  padding: 0 !important;
}

/* Typography scale to match original _typography.scss system */
body.modern-layout h1 { 
  font-family: var(--font-family-heading) !important;
  font-size: 45px !important; /* $font-size-xxl from _typography.scss */
  line-height: 50px !important; /* $line-height-double from _typography.scss */
  margin-bottom: 25px !important; /* $line-height-default from _typography.scss */
}
body.modern-layout h2 { 
  font-family: var(--font-family-heading) !important;
  font-size: 32px !important; /* $font-size-large from _typography.scss */
  line-height: 50px !important; /* $line-height-double from _typography.scss */
  margin-bottom: 25px !important; /* $line-height-default from _typography.scss */
}
body.modern-layout h3 { 
  font-family: var(--font-family-heading) !important;
  font-size: 23px !important; /* $font-size-medium from _typography.scss */
  line-height: 25px !important; /* $line-height-default from _typography.scss */
  margin-bottom: 25px !important; /* $line-height-default from _typography.scss */
}

/* Paragraph spacing to match original _typography.scss */
body.modern-layout p {
  font-family: var(--font-family-main) !important;
  font-size: 18px !important; /* $font-size-default from _typography.scss */
  line-height: 25px !important; /* $line-height-default from _typography.scss */
  margin-bottom: 25px !important; /* $line-height-default from _typography.scss */
}

/* ========================================
   DATE/TAGS SIDEBAR TYPOGRAPHY FIXES
   Match exact live site sizing and layout
   ======================================== */

/* Post info (date/tags sidebar) styling and layout to match live site */
body.modern-layout .post-info {
  /* Reduce width to match live site - currently too wide */
  width: 65px !important; /* More constrained width to match live site */
  max-width: 65px !important; /* Constrain the date sidebar to be narrower */
  min-width: 65px !important; /* Consistent width */
  flex-basis: 65px !important; /* For flexbox layouts */
  flex-shrink: 0 !important;
  margin: 0 !important; /* Override Foundation column margins */
  padding-left: 0 !important; /* Override Foundation column padding */
  padding-right: 0 !important; /* Override Foundation column padding */
  
  .post-date {
    font-family: 'proxima-nova-sc-osf-ext-cond', 'Proxima Nova Condensed', Arial, sans-serif !important;
    text-align: center !important;
    margin-bottom: 25px !important; /* Match original spacing */
    
    .month {
      font-size: 12px !important; /* $font-size-tiny from _typography.scss */
      font-weight: 600 !important;
      color: #ffc53b !important; /* $orange from _colors.scss */
      margin-bottom: 0 !important; /* Tighter spacing */
      line-height: 12px !important;
    }
    
    .day {
      font-size: 45px !important; /* $font-size-xxl from _typography.scss */
      font-weight: 700 !important;
      line-height: 45px !important; /* Tight line height */
      color: #007cef !important; /* $strong-blue from _colors.scss */
      margin-bottom: 0 !important; /* Tighter spacing */
    }
    
    .year {
      font-size: 12px !important; /* $font-size-tiny from _typography.scss */
      color: #61a6d0 !important; /* $blue from _colors.scss */
      margin-bottom: 8px !important; /* Small spacing before permalink */
      line-height: 12px !important;
    }
    
    .permalink a {
      font-size: 16px !important; /* $font-size-small from _typography.scss */
      color: #7750cb !important; /* $purple from _colors.scss */
      text-decoration: none !important;
      line-height: 16px !important;
      
      &:hover {
        color: #ffc53b !important; /* $orange from _colors.scss */
      }
    }
  }
  
  /* Tags styling to match live site - compact horizontal list */
  .tags {
    list-style: none !important;
    margin: 15px 0 25px 0 !important; /* Spacing to match live site */
    padding: 0 !important;
    font-size: 12px !important; /* $font-size-tiny from _typography.scss */
    line-height: 16px !important;
    
    li {
      display: inline-block !important;
      margin: 0 2px 2px 0 !important; /* Tight horizontal spacing */
      
      a {
        color: #8aba56 !important; /* $green from _colors.scss */
        text-decoration: none !important;
        font-size: 12px !important; /* $font-size-tiny from _typography.scss */
        
        &:hover {
          color: #ffc53b !important; /* $orange from _colors.scss */
        }
      }
    }
  }
}

/* Main content area adjustments to match live site proportions */
body.modern-layout .post-content {
  /* Expand main content to fill remaining space properly */
  flex: 1 !important; /* Take up remaining space in flexbox */
  max-width: none !important; /* Let flexbox handle width */
  margin: 0 !important; /* No margin, use gap from parent */
  padding-left: 0 !important; /* Override Foundation column padding */
  padding-right: 0 !important; /* Override Foundation column padding */
}

/* Ensure the row container uses flexbox for proper layout */
body.modern-layout .h-entry.row {
  display: flex !important;
  align-items: flex-start !important;
  gap: 15px !important; /* Small gap between date sidebar and content */
}

/* ========================================
   SYSTEMATIC SPACING ADJUSTMENTS - HOMEPAGE CONTENT
   Based on browser measurements - targeting 1047px height gap */

/* Homepage post spacing to match original content height - ULTIMATE ITERATION */
body.modern-layout .posts .h-entry {
  margin-bottom: 8.5rem !important; /* Ultimate push to close 195px gap */
  padding-bottom: 2.5rem !important; /* Maximum padding for post separation */
}

body.modern-layout .posts .post-content {
  margin-bottom: 5rem !important; /* Ultimate increase to close final 82px gap */
  padding-bottom: 2.5rem !important; /* Maximum content padding */
}

body.modern-layout .pagination {
  margin-top: 6rem !important; /* Maximum spacing before pagination */
  margin-bottom: 5rem !important; /* Maximum bottom spacing */
  padding: 3rem 0 !important; /* Maximum pagination padding */
}

/* Post headers need more breathing room */
body.modern-layout .post-content header {
  margin-bottom: 2rem !important; /* Increased header spacing */
  padding-bottom: 1rem !important; /* Additional header padding */
}

body.modern-layout .post-content header h1 {
  margin-bottom: 1.5rem !important; /* Increased h1 margin */
  line-height: 1.4 !important; /* Slightly increased line height */
}

/* Individual post content elements need more spacing */
body.modern-layout .post-content .e-content,
body.modern-layout .post-content .p-summary {
  margin-bottom: 2rem !important; /* More space after content blocks */
}

body.modern-layout .post-content .read-more {
  margin-top: 1.5rem !important; /* Space before read more links */
}

/* Sidebar height adjustments - perfect alignment */
body.modern-layout #sidebar {
  padding-bottom: 1.3rem !important; /* Increase to get +1px height (292px target) */
  width: 230px !important; /* Match main layout width for consistency */
}

body.modern-layout #sidebar section {
  margin-bottom: 0.8rem !important; /* Maintain spacing for height target */
}

body.modern-layout #sidebar hr {
  margin: 0.5rem 0 !important; /* Reduced spacing around sidebar dividers */
}

body.modern-layout #sidebar nav {
  padding-bottom: 0.2rem !important; /* Reduced nav spacing */
}

/* ========================================
   SYSTEMATIC SPACING ADJUSTMENTS
   Based on browser measurements - adjust these values iteratively
   ======================================== */

/* ========================================
   ARTICLE LAYOUT ADJUSTMENTS
   Target: 834px by 736px (current: 732px by 518px)
   Gap: +102px width, +218px height */

/* Article container width and spacing - applying Foundation grid width */
body.modern-layout article.post {
  width: 833px !important; /* Reduce 1px for exact width match */
  max-width: 833px !important; /* Ensure no overflow */
  padding: 3rem !important; /* Increase padding significantly for +89px height */
  margin-bottom: 3rem !important; /* Increase bottom spacing for height */
}

/* Article header spacing for height target */
body.modern-layout article.post .post-header {
  margin-bottom: 3rem !important; /* Increase header spacing for height */
  padding-bottom: 2rem !important; /* Increase bottom padding */
}

/* Article content spacing to reach 736px height */
body.modern-layout article.post .post-content {
  margin-bottom: 3rem !important; /* Increase content bottom spacing */
  padding-bottom: 2.5rem !important; /* Increase content padding */
  line-height: 1.8 !important; /* Increase line height for more height */
}

/* Article footer spacing */
body.modern-layout article.post .post-footer {
  margin-top: 2rem !important; /* Reduce footer spacing */
  padding-top: 1rem !important; /* Reduce footer padding */
}

/* List spacing adjustments */
body.modern-layout ul,
body.modern-layout ol {
  /* margin-bottom: ADJUST_BASED_ON_MEASUREMENTS !important; */
  /* margin-top: ADJUST_BASED_ON_MEASUREMENTS !important; */
}

/* Heading spacing adjustments */
body.modern-layout h1,
body.modern-layout h2,
body.modern-layout h3 {
  /* margin-top: ADJUST_BASED_ON_MEASUREMENTS !important; */
  /* margin-bottom: ADJUST_BASED_ON_MEASUREMENTS !important; */
}

/* Image and media spacing */
body.modern-layout img,
body.modern-layout figure {
  /* margin-bottom: ADJUST_BASED_ON_MEASUREMENTS !important; */
}

/* Code block spacing */
body.modern-layout pre,
body.modern-layout blockquote {
  /* margin-bottom: ADJUST_BASED_ON_MEASUREMENTS !important; */
}

/* Container styling to match original theme */
body.modern-layout .container {
  border-bottom: 5px solid #7750cb !important; /* $purple from original */
}

/* Body spacing to match original */
body.modern-layout body {
  margin: 0 !important;
  border-top: 5px solid #7750cb !important;
}

/* Header/navigation proper spacing - matches original layout height */
body.modern-layout header#primary {
  padding-top: 3.88rem !important; /* Final adjustment for exact 119px height */
  padding-bottom: 3.88rem !important; /* Final adjustment for exact 119px height */
  border-bottom: 5px solid #7750cb !important;
  max-width: 1000px !important;
  margin-left: auto !important;
  margin-right: auto !important;
  overflow: hidden !important;
}

body.modern-layout header#primary h1 {
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1.22 !important;
}

body.modern-layout header#primary nav {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-end !important;
}

body.modern-layout header#primary nav ul {
  display: flex !important;
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

body.modern-layout header#primary nav ul li {
  margin-left: 1.5rem !important;
}

/* Header row structure */
body.modern-layout header#primary .row {
  max-width: 62.5rem !important; /* 1000px to match expected width */
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 0.9375rem !important;
  padding-right: 0.9375rem !important;
}


/* Header column structure */
body.modern-layout header#primary .columns {
  padding-left: 0.9375rem !important;
  padding-right: 0.9375rem !important;
  width: 100% !important;
}

/* Footer width constraints to match header */
body.modern-layout footer {
  max-width: 1000px !important; /* Match header max-width */
  margin: 0 auto !important; /* Center the footer */
  width: 100% !important; /* Ensure full width within constraint */
  height: 42px !important; /* Exact height match - reduce 1px */
  padding: 0.3rem 0 !important; /* Further reduce padding for exact 42px */
}

/* Typography improvements for visual match */
body.modern-layout header#primary h1 a {
  color: #007cef !important; /* $strong-blue */
  text-decoration: none !important;
  font-size: 2.5rem !important;
}

body.modern-layout header#primary h1 a .highlight {
  color: #d24727 !important; /* $orange-burnt */
}

body.modern-layout header#primary nav {
  margin-top: 0.5rem !important;
}

body.modern-layout header#primary nav ul li a {
  color: #007cef !important; /* $strong-blue */
  text-decoration: none !important;
  font-size: 1.25rem !important;
}

body.modern-layout header#primary nav ul li.current a,
body.modern-layout header#primary nav ul li a:hover {
  color: #ffc53b !important; /* $orange */
}

/* Custom layout to match exact reference dimensions */
@media screen and (min-width: 64em) {  
  body.modern-layout section#main {
    width: 770px !important;
    flex: 0 0 770px !important;
    order: 1 !important;
  }
  
  body.modern-layout section#sidebar {
    width: 230px !important; 
    flex: 0 0 230px !important;
    order: 2 !important;
    margin-left: auto !important;
  }
}

/* Container system - matches Foundation's visual behavior with high specificity */
body.modern-layout .row {
  max-width: 62.5rem !important; /* 1000px to match expected header width */
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 0.9375rem !important; /* 15px */
  padding-right: 0.9375rem !important; /* 15px */
  display: flex !important;
  flex-wrap: wrap !important;
  align-items: flex-start !important;
}

/* Clear fix for compatibility */
.row::before,
.row::after {
  content: '';
  display: table;
}

.row::after {
  clear: both;
}

/* Nested rows */
.row .row {
  margin-left: -0.9375rem;
  margin-right: -0.9375rem;
  max-width: none;
}

/* Column system - flexbox implementation that matches Foundation visual output */
body.modern-layout .column,
body.modern-layout .columns {
  padding-left: 0.9375rem !important; /* 15px gutter */
  padding-right: 0.9375rem !important;
  width: 100% !important;
  min-height: 1px !important;
}

/* Responsive grid that matches Foundation's visual breakpoints exactly */

/* Small (mobile first) - high specificity overrides */
body.modern-layout .small-1 { flex: 0 0 8.33333% !important; width: 8.33333% !important; }
body.modern-layout .small-2 { flex: 0 0 16.66667% !important; width: 16.66667% !important; }
body.modern-layout .small-3 { flex: 0 0 25% !important; width: 25% !important; }
body.modern-layout .small-4 { flex: 0 0 33.33333% !important; width: 33.33333% !important; }
body.modern-layout .small-5 { flex: 0 0 41.66667% !important; width: 41.66667% !important; }
body.modern-layout .small-6 { flex: 0 0 50% !important; width: 50% !important; }
body.modern-layout .small-7 { flex: 0 0 58.33333% !important; width: 58.33333% !important; }
body.modern-layout .small-8 { flex: 0 0 66.66667% !important; width: 66.66667% !important; }
body.modern-layout .small-9 { flex: 0 0 75% !important; width: 75% !important; }
body.modern-layout .small-10 { flex: 0 0 83.33333% !important; width: 83.33333% !important; }
body.modern-layout .small-11 { flex: 0 0 91.66667% !important; width: 91.66667% !important; }
body.modern-layout .small-12 { flex: 0 0 100% !important; width: 100% !important; }

/* Medium screens (640px+) - matches Foundation's 40em breakpoint */
@media screen and (min-width: 40em) {
  body.modern-layout .medium-1 { flex: 0 0 8.33333% !important; width: 8.33333% !important; }
  body.modern-layout .medium-2 { flex: 0 0 16.66667% !important; width: 16.66667% !important; }
  body.modern-layout .medium-3 { flex: 0 0 25% !important; width: 25% !important; }
  body.modern-layout .medium-4 { flex: 0 0 33.33333% !important; width: 33.33333% !important; }
  body.modern-layout .medium-5 { flex: 0 0 41.66667% !important; width: 41.66667% !important; }
  body.modern-layout .medium-6 { flex: 0 0 50% !important; width: 50% !important; }
  body.modern-layout .medium-7 { flex: 0 0 58.33333% !important; width: 58.33333% !important; }
  body.modern-layout .medium-8 { flex: 0 0 66.66667% !important; width: 66.66667% !important; }
  body.modern-layout .medium-9 { flex: 0 0 75% !important; width: 75% !important; }
  body.modern-layout .medium-10 { flex: 0 0 83.33333% !important; width: 83.33333% !important; }
  body.modern-layout .medium-11 { flex: 0 0 91.66667% !important; width: 91.66667% !important; }
  body.modern-layout .medium-12 { flex: 0 0 100% !important; width: 100% !important; }
}

/* Large screens (1024px+) - matches Foundation's 64em breakpoint */
@media screen and (min-width: 64em) {
  body.modern-layout .large-1 { flex: 0 0 8.33333% !important; width: 8.33333% !important; }
  body.modern-layout .large-2 { flex: 0 0 16.66667% !important; width: 16.66667% !important; }
  body.modern-layout .large-3 { flex: 0 0 25% !important; width: 25% !important; }
  body.modern-layout .large-4 { flex: 0 0 33.33333% !important; width: 33.33333% !important; }
  body.modern-layout .large-5 { flex: 0 0 41.66667% !important; width: 41.66667% !important; }
  body.modern-layout .large-6 { flex: 0 0 50% !important; width: 50% !important; }
  body.modern-layout .large-7 { flex: 0 0 58.33333% !important; width: 58.33333% !important; }
  body.modern-layout .large-8 { flex: 0 0 66.66667% !important; width: 66.66667% !important; }
  body.modern-layout .large-9 { flex: 0 0 75% !important; width: 75% !important; }
  body.modern-layout .large-10 { flex: 0 0 83.33333% !important; width: 83.33333% !important; }
  body.modern-layout .large-11 { flex: 0 0 91.66667% !important; width: 91.66667% !important; }
  body.modern-layout .large-12 { flex: 0 0 100% !important; width: 100% !important; }
}

/* Push/Pull classes using modern CSS */
.small-push-1 { margin-left: 8.33333%; }
.small-push-2 { margin-left: 16.66667%; }
.small-push-3 { margin-left: 25%; }
.small-push-4 { margin-left: 33.33333%; }
.small-push-5 { margin-left: 41.66667%; }
.small-push-6 { margin-left: 50%; }
.small-push-7 { margin-left: 58.33333%; }
.small-push-8 { margin-left: 66.66667%; }
.small-push-9 { margin-left: 75%; }
.small-push-10 { margin-left: 83.33333%; }
.small-push-11 { margin-left: 91.66667%; }

.small-pull-1 { margin-right: 8.33333%; }
.small-pull-2 { margin-right: 16.66667%; }
.small-pull-3 { margin-right: 25%; }
.small-pull-4 { margin-right: 33.33333%; }
.small-pull-5 { margin-right: 41.66667%; }
.small-pull-6 { margin-right: 50%; }
.small-pull-7 { margin-right: 58.33333%; }
.small-pull-8 { margin-right: 66.66667%; }
.small-pull-9 { margin-right: 75%; }
.small-pull-10 { margin-right: 83.33333%; }
.small-pull-11 { margin-right: 91.66667%; }

@media screen and (min-width: 40em) {
  .medium-push-1 { margin-left: 8.33333%; }
  .medium-push-2 { margin-left: 16.66667%; }
  .medium-push-3 { margin-left: 25%; }
  .medium-push-4 { margin-left: 33.33333%; }
  .medium-push-5 { margin-left: 41.66667%; }
  .medium-push-6 { margin-left: 50%; }
  .medium-push-7 { margin-left: 58.33333%; }
  .medium-push-8 { margin-left: 66.66667%; }
  .medium-push-9 { margin-left: 75%; }
  .medium-push-10 { margin-left: 83.33333%; }
  .medium-push-11 { margin-left: 91.66667%; }

  .medium-pull-1 { margin-right: 8.33333%; }
  .medium-pull-2 { margin-right: 16.66667%; }
  .medium-pull-3 { margin-right: 25%; }
  .medium-pull-4 { margin-right: 33.33333%; }
  .medium-pull-5 { margin-right: 41.66667%; }
  .medium-pull-6 { margin-right: 50%; }
  .medium-pull-7 { margin-right: 58.33333%; }
  .medium-pull-8 { margin-right: 66.66667%; }
  .medium-pull-9 { margin-right: 75%; }
  .medium-pull-10 { margin-right: 83.33333%; }
  .medium-pull-11 { margin-right: 91.66667%; }
}

@media screen and (min-width: 64em) {
  body.modern-layout .large-push-1 { margin-left: 8.33333% !important; }
  body.modern-layout .large-push-2 { margin-left: 16.66667% !important; }
  body.modern-layout .large-push-3 { margin-left: 25% !important; }
  body.modern-layout .large-push-4 { margin-left: 33.33333% !important; }
  body.modern-layout .large-push-5 { margin-left: 41.66667% !important; }
  body.modern-layout .large-push-6 { margin-left: 50% !important; }
  body.modern-layout .large-push-7 { margin-left: 58.33333% !important; }
  body.modern-layout .large-push-8 { margin-left: 66.66667% !important; }
  body.modern-layout .large-push-9 { margin-left: 75% !important; }
  body.modern-layout .large-push-10 { margin-left: 83.33333% !important; }
  body.modern-layout .large-push-11 { margin-left: 91.66667% !important; }

  body.modern-layout .large-pull-1 { margin-left: -8.33333% !important; }
  body.modern-layout .large-pull-2 { margin-left: -16.66667% !important; }
  body.modern-layout .large-pull-3 { margin-left: -25% !important; }
  body.modern-layout .large-pull-4 { margin-left: -33.33333% !important; }
  body.modern-layout .large-pull-5 { margin-left: -41.66667% !important; }
  body.modern-layout .large-pull-6 { margin-left: -50% !important; }
  body.modern-layout .large-pull-7 { margin-left: -58.33333% !important; }
  body.modern-layout .large-pull-8 { margin-left: -66.66667% !important; }
  body.modern-layout .large-pull-9 { margin-left: -75% !important; }
  body.modern-layout .large-pull-10 { margin-left: -83.33333% !important; }
  body.modern-layout .large-pull-11 { margin-left: -91.66667% !important; }
}

/* Text alignment utilities */
.text-left { text-align: left; }
.text-right { text-align: right; }
.text-center { text-align: center; }
.text-justify { text-align: justify; }

@media screen and (min-width: 40em) {
  .medium-text-left { text-align: left; }
  .medium-text-right { text-align: right; }
  .medium-text-center { text-align: center; }
  .medium-text-justify { text-align: justify; }
}

@media screen and (min-width: 64em) {
  .large-text-left { text-align: left; }
  .large-text-right { text-align: right; }
  .large-text-center { text-align: center; }
  .large-text-justify { text-align: justify; }
}

/* Centering */
.small-centered,
.column.small-centered,
.columns.small-centered {
  margin-left: auto;
  margin-right: auto;
}

@media screen and (min-width: 40em) {
  .medium-centered,
  .column.medium-centered,
  .columns.medium-centered {
    margin-left: auto;
    margin-right: auto;
  }
}

@media screen and (min-width: 64em) {
  .large-centered,
  .column.large-centered,
  .columns.large-centered {
    margin-left: auto;
    margin-right: auto;
  }
}

/* Collapse gutters */
.row.collapse > .column,
.row.collapse > .columns {
  padding-left: 0;
  padding-right: 0;
}

/* Foundation visual compatibility fixes */
.column:last-child:not(:first-child),
.columns:last-child:not(:first-child) {
  float: none; /* Override Foundation float behavior in flexbox */
}

.column.end:last-child:last-child,
.end.columns:last-child:last-child {
  float: none; /* Override Foundation float behavior in flexbox */
}